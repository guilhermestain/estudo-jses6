{"ast":null,"code":"var _jsxFileName = \"/home/guilhermestain/development/estoque/estoque-front/src/routes/privateRoutes.js\";\nimport React, { Component } from \"react\";\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport SideBar from '../components/SideBar';\nimport PagesRoute from '../pages';\nimport { Logout } from '../pages/Login/LoginRedux/action';\nimport { auth } from '../services/auth';\nimport './index.css';\n\nclass PrivateRoute extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      auth: true\n    };\n\n    this.logout = async () => {\n      await this.props.Logout(this.props.auth.token);\n    };\n\n    this.auth = async () => {\n      const value = {\n        token: this.props.auth.token,\n        username: this.props.auth.username\n      };\n      let response = {};\n      response = await auth(value).then(resp => this.setState({\n        auth: resp.data\n      }));\n      return response;\n    };\n\n    this.componentDidMount = () => {\n      this.auth();\n    };\n  }\n\n  render() {\n    if (this.state.auth) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"div-sideBar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(SideBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"div-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/logged\",\n        component: PagesRoute,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }))));\n    } else {\n      this.logout();\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      });\n    }\n  }\n\n}\n\nfunction mapDispacthToProps(dispach) {\n  return bindActionCreators({\n    Logout\n  }, dispach);\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth\n  };\n}\n\nexport default connect(mapStateToProps, mapDispacthToProps)(PrivateRoute);","map":{"version":3,"sources":["/home/guilhermestain/development/estoque/estoque-front/src/routes/privateRoutes.js"],"names":["React","Component","Route","Redirect","Switch","connect","bindActionCreators","SideBar","PagesRoute","Logout","auth","PrivateRoute","state","logout","props","token","value","username","response","then","resp","setState","data","componentDidMount","render","mapDispacthToProps","dispach","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,kBAAxC;AAEA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AAEA,OAAOC,OAAP,MAAoB,uBAApB;AAEA,OAAOC,UAAP,MAAuB,UAAvB;AACA,SAASC,MAAT,QAAuB,kCAAvB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAO,aAAP;;AAEA,MAAMC,YAAN,SAA2BV,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAEnCW,KAFmC,GAE3B;AACNF,MAAAA,IAAI,EAAE;AADA,KAF2B;;AAAA,SAMnCG,MANmC,GAM1B,YAAY;AACnB,YAAM,KAAKC,KAAL,CAAWL,MAAX,CAAkB,KAAKK,KAAL,CAAWJ,IAAX,CAAgBK,KAAlC,CAAN;AACD,KARkC;;AAAA,SAUnCL,IAVmC,GAU5B,YAAY;AACjB,YAAMM,KAAK,GAAG;AACZD,QAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWJ,IAAX,CAAgBK,KADX;AAEZE,QAAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWJ,IAAX,CAAgBO;AAFd,OAAd;AAKA,UAAIC,QAAQ,GAAG,EAAf;AAEAA,MAAAA,QAAQ,GAAG,MAAMR,IAAI,CAACM,KAAD,CAAJ,CAAYG,IAAZ,CACfC,IAAI,IAAI,KAAKC,QAAL,CAAc;AACpBX,QAAAA,IAAI,EAAEU,IAAI,CAACE;AADS,OAAd,CADO,CAAjB;AAMA,aAAOJ,QAAP;AACD,KAzBkC;;AAAA,SA2BnCK,iBA3BmC,GA2Bf,MAAM;AACxB,WAAKb,IAAL;AACD,KA7BkC;AAAA;;AAgCnCc,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKZ,KAAL,CAAWF,IAAf,EAAqB;AAEnB,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAC,SAAZ;AAAsB,QAAA,SAAS,EAAEF,UAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CAJF,CADF;AAYD,KAdD,MAcO;AACL,WAAKK,MAAL;AACA,aAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;AACF;;AAnDkC;;AAsDrC,SAASY,kBAAT,CAA4BC,OAA5B,EAAqC;AACnC,SAAOpB,kBAAkB,CAAC;AAAEG,IAAAA;AAAF,GAAD,EAAaiB,OAAb,CAAzB;AACD;;AAED,SAASC,eAAT,CAAyBf,KAAzB,EAAgC;AAC9B,SAAO;AACLF,IAAAA,IAAI,EAAEE,KAAK,CAACF;AADP,GAAP;AAGD;;AAED,eAAeL,OAAO,CAACsB,eAAD,EAAkBF,kBAAlB,CAAP,CAA6Cd,YAA7C,CAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, Redirect, Switch } from 'react-router-dom'\n\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\n\nimport SideBar from '../components/SideBar'\n\nimport PagesRoute from '../pages'\nimport { Logout } from '../pages/Login/LoginRedux/action'\nimport { auth } from '../services/auth'\nimport './index.css'\n\nclass PrivateRoute extends Component {\n\n  state = {\n    auth: true\n  }\n\n  logout = async () => {\n    await this.props.Logout(this.props.auth.token)\n  }\n\n  auth = async () => {\n    const value = {\n      token: this.props.auth.token,\n      username: this.props.auth.username\n    }\n\n    let response = {}\n\n    response = await auth(value).then(\n      resp => this.setState({\n        auth: resp.data\n      })\n    )\n\n    return response\n  }\n\n  componentDidMount = () => {\n    this.auth()\n  }\n\n\n  render() {\n    if (this.state.auth) {\n      \n      return (\n        <div>\n          <div className='div-sideBar'>\n            <SideBar />\n          </div>\n          <div className='div-body'>\n            <Switch>\n              <Route path='/logged' component={PagesRoute} />\n            </Switch>\n          </div>\n        </div>\n      )\n    } else {\n      this.logout()\n      return <Redirect to='/login' />\n    }\n  }\n}\n\nfunction mapDispacthToProps(dispach) {\n  return bindActionCreators({ Logout }, dispach)\n}\n\nfunction mapStateToProps(state) {\n  return {\n    auth: state.auth,\n  }\n}\n\nexport default connect(mapStateToProps, mapDispacthToProps)(PrivateRoute)"]},"metadata":{},"sourceType":"module"}